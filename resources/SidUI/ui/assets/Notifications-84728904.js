import{j as s,r as m,R as u,a as l,u as o,S as g,p as d,i as x,E as p}from"./index-9c4db833.js";const N=t=>s.jsx("div",{className:"basic-notification",style:{animation:`basic-slide-up 0.3s ease-in-out, basic-slide-left 0.3s ease-in-out ${(t.duration||5e3)/1e3}s forwards`},children:s.jsx("span",{dangerouslySetInnerHTML:{__html:t.message}})});const h=({dispatchOpen:t})=>{const[n,r]=m.useState([]),c=u(l);return o("notifications:add",e=>{e.id||(e.id=(Math.random()*Date.now()).toFixed(0)+""),r(a=>[e,...a]),setTimeout(()=>{r(a=>a.filter(i=>i.id!==e.id))},(e.duration||5e3)+300)}),o("notifications:remove",({id:e})=>{r(a=>a.filter(i=>i.id!==e))}),s.jsxs(s.Fragment,{children:[s.jsx("section",{className:`notifications ${!c&&"radar-hidden"} `,children:n.map(e=>{switch(e.type){case"basic":return s.jsx(N,{message:d(e.message),duration:e.duration},e.id);case"society":return s.jsx(g,{message:d(e.message),icon:x(`societies/${e.icon}`||""),duration:e.duration,name:e.name||""},e.id);default:return null}})}),s.jsx("section",{className:`notifications emergency ${t&&"dispatchOpen"}`,children:n.filter(e=>e.type==="emergency").map(e=>s.jsx(p,{emergencyCode:e.emergencyCode||"",timestamp:e.timestamp||Date.now(),message:d(e.message),location:e.location||"",duration:e.duration,id:e.id},e.id))})]})};export{h as default};
